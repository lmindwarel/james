{
  "version": 3,
  "sources": ["../../vuetify/src/composables/variant.tsx", "../../vuetify/src/composables/router.tsx"],
  "sourcesContent": ["// Composables\nimport { useColor } from '@/composables/color'\n\n// Utilities\nimport { computed, unref } from 'vue'\nimport { getCurrentInstanceName, propsFactory } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { MaybeRef } from '@/util'\n\nexport const allowedVariants = [\n  'outlined',\n  'plain',\n  'text',\n  'contained',\n  'contained-flat',\n  'contained-text',\n] as const\n\nexport type Variant = typeof allowedVariants[number]\n\nexport interface VariantProps {\n  color?: string\n  variant: Variant\n}\n\nexport function genOverlays (isClickable: boolean, name: string) {\n  return (\n    <>\n      { isClickable && <div class={`${name}__overlay`} /> }\n\n      <div class={`${name}__underlay`} />\n    </>\n  )\n}\n\nexport const makeVariantProps = propsFactory({\n  color: String,\n  variant: {\n    type: String as PropType<Variant>,\n    default: 'contained',\n    validator: (v: any) => allowedVariants.includes(v),\n  },\n}, 'variant')\n\nexport function useVariant (\n  props: MaybeRef<VariantProps>,\n  name = getCurrentInstanceName(),\n) {\n  const variantClasses = computed(() => {\n    const { variant } = unref(props)\n    return `${name}--variant-${variant}`\n  })\n\n  const { colorClasses, colorStyles } = useColor(computed(() => {\n    const { variant, color } = unref(props)\n    return {\n      [['contained', 'contained-flat'].includes(variant) ? 'background' : 'text']: color,\n    }\n  }))\n\n  return { colorClasses, colorStyles, variantClasses }\n}\n", "// Utilities\nimport { getCurrentInstance, propsFactory } from '@/util'\nimport {\n  computed,\n  onBeforeUnmount,\n  onMounted,\n  resolveDynamicComponent,\n  toRef,\n} from 'vue'\n\n// Types\nimport type { ComputedRef, PropType, Ref, SetupContext } from 'vue'\nimport type {\n  RouterLink as _RouterLink,\n  useLink as _useLink,\n  NavigationGuardNext,\n  RouteLocationNormalizedLoaded,\n  RouteLocationRaw,\n  Router,\n} from 'vue-router'\n\nexport function useRoute (): Ref<RouteLocationNormalizedLoaded | undefined> {\n  const vm = getCurrentInstance('useRoute')\n\n  return computed(() => vm?.proxy?.$route)\n}\n\nexport function useRouter (): Router | undefined {\n  return getCurrentInstance('useRouter')?.proxy?.$router\n}\n\nexport interface LinkProps {\n  href?: string\n  replace?: boolean\n  to?: RouteLocationRaw\n}\n\nexport interface UseLink extends Omit<Partial<ReturnType<typeof _useLink>>, 'href'> {\n  isLink: ComputedRef<boolean>\n  isClickable: ComputedRef<boolean>\n  href: Ref<string | undefined>\n}\n\nexport function useLink (props: LinkProps, attrs: SetupContext['attrs']): UseLink {\n  const RouterLink = resolveDynamicComponent('RouterLink') as typeof _RouterLink | string\n\n  const isLink = computed(() => !!(props.href || props.to))\n  const isClickable = computed(() => {\n    return isLink?.value || !!(attrs.onClick || attrs.onClickOnce)\n  })\n\n  if (typeof RouterLink === 'string') {\n    return {\n      isLink,\n      isClickable,\n      href: toRef(props, 'href'),\n    }\n  }\n\n  const link = props.to ? RouterLink.useLink(props as Required<LinkProps>) : undefined\n\n  return {\n    ...link,\n    isLink,\n    isClickable,\n    href: computed(() => props.to ? link?.route.value.href : props.href),\n  }\n}\n\nexport const makeRouterProps = propsFactory({\n  href: String,\n  replace: Boolean,\n  to: [String, Object] as PropType<RouteLocationRaw>,\n}, 'router')\n\nlet inTransition = false\nexport function useBackButton (cb: (next: NavigationGuardNext) => void) {\n  const router = useRouter()\n  let popped = false\n  let removeBefore: (() => void) | undefined\n  let removeAfter: (() => void) | undefined\n\n  onMounted(() => {\n    window.addEventListener('popstate', onPopstate)\n    removeBefore = router?.beforeEach((to, from, next) => {\n      if (!inTransition) {\n        setTimeout(() => popped ? cb(next) : next())\n      } else {\n        popped ? cb(next) : next()\n      }\n      inTransition = true\n    })\n    removeAfter = router?.afterEach(() => {\n      inTransition = false\n    })\n  })\n  onBeforeUnmount(() => {\n    window.removeEventListener('popstate', onPopstate)\n    removeBefore?.()\n    removeAfter?.()\n  })\n\n  function onPopstate (e: PopStateEvent) {\n    if (e.state?.replaced) return\n\n    popped = true\n    setTimeout(() => (popped = false))\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
